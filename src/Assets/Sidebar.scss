/* sidebar.css - Estilos para mostrar la imagen de la sidebar */

@font-face {
  font-family: 'Notepen';
  src: url('../Assets/fonts/Notepen.ttf') format('truetype');
  font-display: swap;
}

/*
  Consejo de ajuste: usa la variable --sidebar-shift para desplazar
  ligeramente la sidebar a la izquierda al reducir el ancho de ventana.
  - Desktop (hover): se aplica a la posici√≥n base y a la de hover.
  - M√≥vil (touch): se aplica a la posici√≥n base y puedes decidir si
    afecta al estado open o no (aqu√≠ no lo aplicamos al open para que
    se mantenga totalmente visible al abrirse).
  Puedes cambiar este comportamiento abajo donde se usa var(--sidebar-shift).
*/

:root {
  /* Ajuste global adicional:
    Valor positivo mueve a la derecha; negativo mueve a la izquierda.
    Ejemplo: 0.5cm ‚âà 19px.
    Ajusta a tu gusto o pon 0px si no lo quieres. */
  --sidebar-extra-nudge: 0px;

  /* ===== Variables EDITABLES de posici√≥n (Desktop/Hover) ===== */
  /* Posici√≥n base (cerrada) en escritorio: porcentaje hacia la izquierda (negativo) */
  --sidebar-left-closed: -100%;
  /* Posici√≥n al hacer hover/focus en escritorio */
  --sidebar-left-hovered: -11%;
  /* Ajustes finos adicionales existentes */
  --sidebar-shift: 0px;           /* desplaza base a izq/dcha */
  --hover-extra-shift: 0px;       /* desplaza extra en hover */

  /* Peek fijo en touch (ancho visible cuando est√° cerrado) */
  --peek-fixed: 28px;

  /* ===== Variables EDITABLES de textos/controles ===== */
  /* Posici√≥n de los bloques de toggles (porcentaje relativo al contenedor imagen) */
  --sidebar-text1-left: 38%;
  --sidebar-text1-top: 7%;
  --sidebar-text1-translateY: 20%;

  --sidebar-text2-left: 34%;
  --sidebar-text2-top: 40%;
  --sidebar-text2-translateY: -20%;

  /* Desplazamiento fino horizontal com√∫n a ambos (px) */
  --sidebar-text-shift: clamp(-10px, calc(100vw / 100), 20px);

  /* Tama√±os base de texto (no cambia la fuente, solo el tama√±o) */
  --sidebar-btn1-size: 3em;   /* Bot√≥n superior (idioma) */
  --sidebar-btn2-size: 2.6em; /* Bot√≥n inferior (m√∫sica) */
  /* Escalado com√∫n opcional - ESTE es tu control principal de tama√±o */
  --sidebar-text-scale: 1;

  /* Offset relativo al ancho del propio elemento (para usar con transform) */
  --sidebar-x-closed: -65%;  /* EDITADO: oculta completamente */
  --sidebar-x-hovered: -35%;  /* oculta ~11% en abierto (como el dise√±o base) */
}

#sidebar-toggles {
  width: 80vw;
  max-width: 640px;
  height: 48vw;
  max-height: 384px;
  background: url('../Assets/img/sidebar.png') no-repeat center center;
  background-size: contain;
  image-rendering: pixelated;
  position: fixed;
  top: 50%;
  /* Anclar al borde y desplazar con transform (offset relativo al propio ancho) */
  left: 0;
  /* Usa --sidebar-x-closed; si no est√°, cae a --sidebar-left-closed para compatibilidad */
  transform: translateX(var(--sidebar-x-closed, var(--sidebar-left-closed, -80%))) translateY(-50%);
  z-index: 3000;
  border: none;
  padding: 0;
  margin: 0;
  transition: transform 0.35s cubic-bezier(.4,1,.6,1), filter 0.3s;
  filter: brightness(0.7); /* M√°s oscuro cuando est√° oculta */
  overflow: visible; /* Asegura que los hijos se posicionen relativos a este contenedor */
  /* Desacoplar tama√±os de texto del body: em de los botones parte de aqu√≠ */
  font-size: 16px;
  /* ELIMINADO: auto-escala que ignoraba tus valores personalizados */
}

/* Desktop/hover behavior: peek and brighten on hover/focus */
#sidebar-toggles.hover:hover,
#sidebar-toggles.hover:focus-within {
  /* Desktop hover/focus: offset relativo al ancho */
  /* Usa --sidebar-x-hovered; si no est√°, cae a --sidebar-left-hovered */
  transform: translateX(var(--sidebar-x-hovered, var(--sidebar-left-hovered, -11%))) translateY(-50%);
  filter: brightness(1);
}

/* Cambiar: los textos ahora se posicionan igual que el sidebar y se mueven juntos */
#sidebar-text-toggles{
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  position: absolute;
  left: var(--sidebar-text1-left, 40%); /* Editable */
  z-index: 3100;
  gap: 20px;
  cursor: url('../Assets/cursors/webfishing_link.cur'), pointer;
  font-family: 'Notepen', cursive, sans-serif;
  transition: color 0.2s;
  /* Mantener misma posici√≥n base; ya no escalamos el contenedor para evitar blur del texto */
  transform: translateX(var(--sidebar-text-shift, 0px)) translateY(var(--sidebar-text1-translateY, 20%));
  transform-origin: top right;

}

/* Cuando la sidebar se revela por hover/focus, acompa√±a el texto con el mismo extra-shift */
#sidebar-toggles.hover:hover #sidebar-text-toggles,
#sidebar-toggles.hover:focus-within #sidebar-text-toggles {
  transform: translateX(calc(var(--sidebar-text-shift, 0px) + var(--hover-extra-shift, 0px))) translateY(var(--sidebar-text1-translateY, 20%));
}

#sidebar-toggles.hover:hover #sidebar-text-toggles2,
#sidebar-toggles.hover:focus-within #sidebar-text-toggles2 {
  transform: translateX(calc(var(--sidebar-text-shift, 0px) + var(--hover-extra-shift, 0px))) translateY(var(--sidebar-text2-translateY, -20%));
}

#sidebar-text-toggles2 {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  position: absolute;
  left: var(--sidebar-text2-left, 34%); /* Editable */
  z-index: 3100;
  gap: 20px;
  cursor: url('../Assets/cursors/webfishing_link.cur'), pointer;
  font-family: 'Notepen', cursive, sans-serif;
  transition: color 0.2s;
  /* Mantener misma posici√≥n base; no usar transform scale para texto */
  transform: translateX(var(--sidebar-text-shift, 0px)) translateY(var(--sidebar-text2-translateY, -20%));
  transform-origin: top right;
}

#sidebar-text-toggles {
  top: var(--sidebar-text1-top, 10%);
}

#sidebar-text-toggles2 {
  top: var(--sidebar-text2-top, 40%);
}

.sidebar-text-btn {
  background: none;
  border: none;
  color: #7c6a4a;
  font-family: 'Notepen', cursive, sans-serif;
  /* Escalado suave por font-size para mantener apariencia de desktop */
  font-size: calc(var(--sidebar-btn1-size, 2em) * var(--sidebar-text-scale, 1));
  padding: 4px 12px;
  cursor: pointer;
  transition: color 0.2s;
}

.sidebar-text-btn2 {
  background: none;
  border: none;
  color: #7c6a4a;
  font-family: 'Notepen', cursive, sans-serif;
  font-size: calc(var(--sidebar-btn2-size, 1.5em) * var(--sidebar-text-scale, 1));
  padding: 4px 12px;
  cursor: pointer;
  transition: color 0.2s;
  max-width: 200px; /* REDUCIDO: fuerza el wrap m√°s pronto */
  white-space: normal;
  overflow-wrap: break-word;
  word-break: break-word; /* A√±adido: rompe palabras largas */
  text-align: center;
  display: block;
  line-height: 1.2; /* A√±adido: espaciado entre l√≠neas */
  margin-right: 0;
}

.sidebar-text-btn:hover {
  color: #fff6e0;
  outline: none;
  cursor: url('../Assets/cursors/webfishing_link.cur'), pointer;
}

.sidebar-text-btn2:hover {
  color: #fff6e0;
  outline: none;
  cursor: url('../Assets/cursors/webfishing_link.cur'), pointer;
}

/* =====================
   DESKTOP ONLY BEHAVIOR
   - Siempre usa comportamiento hover, sin modo touch
   - Funciona en todas las resoluciones como escritorio
====================== */

/* ===== ESCALADO RESPONSIVE SIMPLE Y EFECTIVO ===== */

/* üñ•Ô∏è Pantallas extra grandes: 4K y superiores (2560px+) */
@media (min-width: 2560px) {
  :root {
    --sidebar-text-scale: 1.1; /* Un poco m√°s grande para 4K */
    --sidebar-text1-left: 41%; /* Ajuste fino para pantallas enormes */
    --sidebar-text2-left: 33%; 
    --sidebar-text-shift: -2px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 280px; /* Extra ancho para 4K */
  }
}

/* üñ•Ô∏è Pantallas muy grandes: QHD y Full HD+ (1920px-2559px) */
@media (max-width: 2559px) and (min-width: 1920px) {
  :root {
    --sidebar-text-scale: 1; /* Tu tama√±o perfecto */
    --sidebar-text1-left: 42%; /* Tus valores personalizados */
    --sidebar-text2-left: 34%; 
    --sidebar-text-shift: 0px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 250px; /* Tu valor personalizado */
  }
}

/* üíª Pantallas grandes: laptops gaming/profesionales (1680px-1919px) */
@media (max-width: 1919px) and (min-width: 1680px) {
  :root {
    --sidebar-text-scale: 0.92; /* Transici√≥n suave hacia tus valores medianos */
    --sidebar-text1-left: 41%; 
    --sidebar-text2-left: 35%; 
    --sidebar-text-shift: 2px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 220px; 
  }
}

/* üíª Pantallas medias-grandes: laptops est√°ndar (1440px-1679px) */
@media (max-width: 1679px) and (min-width: 1440px) {
  :root {
    --sidebar-text-scale: 0.85; /* Manteniendo tu valor mediano */
    --sidebar-text1-left: 42%; 
    --sidebar-text2-left: 36%; 
    --sidebar-text-shift: 5px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 200px; /* Tu valor mediano */
  }
}

/* üíª Pantallas medianas: laptops compactos (1280px-1439px) */
@media (max-width: 1439px) and (min-width: 1280px) {
  :root {
    --sidebar-text-scale: 0.8; /* Transici√≥n hacia tu valor peque√±o */
    --sidebar-text1-left: 42%; 
    --sidebar-text2-left: 36%; 
    --sidebar-text-shift: 7px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 200px; 
  }
}

/* üì± Tablets landscape y pantallas peque√±as (1024px-1279px) */
@media (max-width: 1279px) and (min-width: 1024px) {
  :root {
    --sidebar-text-scale: 0.8; /* Acerc√°ndose a tu valor final */
    --sidebar-text1-left: 42%; 
    --sidebar-text2-left: 38%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 160px; 
  }
}

/* üì± Tablets portrait (768px-1023px) */
@media (max-width: 1023px) and (min-width: 768px) {
  :root {
    --sidebar-text-scale: 0.8; /* Acerc√°ndose a tu valor final */
    --sidebar-text1-left: 42%; 
    --sidebar-text2-left: 38%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 160px; 
  }
}

/* üì± Tel√©fonos grandes en landscape y tablets peque√±as (600px-767px) */
@media (max-width: 767px) and (min-width: 600px) {
  :root {
    --sidebar-text-scale: 0.7; /* Tu valor personalizado */
    --sidebar-text1-left: 42%; /* Tus valores personalizados */
    --sidebar-text2-left: 38%; 
    --sidebar-text-shift: 10px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 160px; /* Tu valor personalizado */
  }
}

/* üì± Tel√©fonos est√°ndar: iPhone Pro Max, Galaxy S+ (430px-599px) */
@media (max-width: 599px) and (min-width: 430px) {
  :root {
    --sidebar-text-scale: 0.5; /* Ligeramente m√°s peque√±o */
    --sidebar-text1-left: 40%; /* M√°s centrado para pantallas estrechas */
    --sidebar-text2-left: 32%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 140px; /* M√°s estrecho para m√°s l√≠neas */
  }
}

/* üì± Tel√©fonos medianos: iPhone est√°ndar, Galaxy S (375px-429px) */
@media (max-width: 429px) and (min-width: 375px) {
  :root {
    --sidebar-text-scale: 0.5; /* Ligeramente m√°s peque√±o */
    --sidebar-text1-left: 38%; /* M√°s centrado para pantallas estrechas */
    --sidebar-text2-left: 32%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 120px; /* Compacto para pantallas peque√±as */
  }
}

/* üì± Tel√©fonos peque√±os: iPhone SE, Android compactos (320px-374px) */
@media (max-width: 374px) and (min-width: 320px) {
  :root {
    --sidebar-text-scale: 0.4; /* Ligeramente m√°s peque√±o */
    --sidebar-text1-left: 36%; /* M√°s centrado para pantallas estrechas */
    --sidebar-text2-left: 31%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 100px; /* Muy estrecho, m√°ximo n√∫mero de l√≠neas */
  }
}

/* üì± Tel√©fonos muy peque√±os: dispositivos legacy (menos de 320px) */
@media (max-width: 319px) {
  :root {
    --sidebar-text-scale: 0.4; /* Ligeramente m√°s peque√±o */
    --sidebar-text1-left: 36%; /* M√°s centrado para pantallas estrechas */
    --sidebar-text2-left: 31%; 
    --sidebar-text-shift: 8px; 
  }
  
  .sidebar-text-btn2 {
    max-width: 100px; /* M√°xima compresi√≥n */
  }
}

/* ===== ESTADO ABIERTO PARA DISPOSITIVOS T√ÅCTILES ===== */
/* Cuando se detecta touch y se abre la sidebar, usar la posici√≥n de hover */
#sidebar-toggles.open {
  transform: translateX(var(--sidebar-x-hovered, var(--sidebar-left-hovered, -35%))) translateY(-50%) !important;
  filter: brightness(1) !important;
}

